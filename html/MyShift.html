<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>BSC Workshift Manager</title>
<link href="css/constant.css" rel="stylesheet" type="text/css" />
<style type="text/css">

#Layer1 {
	position:absolute;
	width:788px;
	height:53px;
	z-index:1;
	left: -1px;
	top: -66px;
	background-color: #D8EFAD;
}
#Layer2 {
	position:absolute;
	width:190px;
	height:74px;
	z-index:1;
	left: 18px;
	top: 319px;
	background-color: #7F7F7F;
}

</style>
<link href="css/MyShift.css" rel="stylesheet" type="text/css" />
<style type="text/css">

.STYLE3 {font-weight: bold}
.STYLE4 {font-weight: bold}
.STYLE5 {font-weight: bold}
.STYLE6 {font-weight: bold}
.STYLE7 {font-weight: bold}
.STYLE8 {font-weight: bold}
.STYLE9 {font-weight: bold}
.STYLE11 {font-weight: bold}
.STYLE12 {font-weight: bold}
.STYLE13 {font-weight: bold}
.STYLE14 {font-weight: bold}
.STYLE15 {font-weight: bold}
.STYLE16 {font-weight: bold}
.STYLE17 {font-weight: bold}
#Layer3 {
	position:absolute;
	width:62px;
	height:24px;
	z-index:2;
	left: 373px;
	top: 346px;
}
#Layer4 {
	position:absolute;
	width:59px;
	height:24px;
	z-index:2;
	left: 374px;
	top: 351px;
}

</style>

<script type="text/javascript">

var dragbox;
var deltaX, deltaY;
var client;
createClient();


function createClient() {
try {
client = window.XMLHttpRequest ? new XMLHttpRequest() :
new ActiveXObject("Microsoft.XMLHTTP");
} catch (e) {
alert("Sorry, your browser is not Ajax-enabled!");
}
}

function setOpacity(node,val) {
if (node.filters) {
try {
node.filters["alpha"].opacity = val*100;
} catch (e) { }
} else if (node.style.opacity) {
node.style.opacity = val;
}
}

function getX(node) {
return parseInt(node.style.left);
}

function getY(node) {
return parseInt(node.style.top);
}

function getWidth(node) {
return parseInt(node.style.width);
}

function getHeight(node) {
return parseInt(node.style.height);
}

function setX(node,x) {
node.style.left = x + "px";
}

function setY(node,y) {
node.style.top = y + "px";
}

function Evt(evt) {
this.evt = evt ? evt : window.event;
this.source = evt.target ? evt.target : evt.srcElement;
this.x = evt.pageX ? evt.pageX : evt.clientX;
this.y = evt.pageY ? evt.pageY : evt.clientY;
}

Evt.prototype.toString = function () {
return "Evt [ x = " + this.x + ", y = " + this.y + " ]";
};

Evt.prototype.consume = function () {
if (this.evt.stopPropagation) {
this.evt.stopPropagation();
this.evt.preventDefault();
} else if (this.evt.cancelBubble) {
this.evt.cancelBubble = true;
this.evt.returnValue = false;
}
};

Evt.addEventListener = function (target,type,func,bubbles) {
if (document.addEventListener) {
target.addEventListener(type,func,bubbles);
} else if (document.attachEvent) {
target.attachEvent("on"+type,func,bubbles);
} else {
target["on"+type] = func;
}
};

Evt.removeEventListener = function (target,type,func,bubbles) {
if (document.removeEventListener) {
target.removeEventListener(type,func,bubbles);
} else if (document.detachEvent) {
target.detachEvent("on"+type,func,bubbles);
} else {
target["on"+type] = null;
}
};

function dragPress(evt) {
evt = new Evt(evt);
dragbox = evt.source;
setOpacity(dragbox,.7);
deltaX = evt.x - getX(dragbox);
deltaY = evt.y - getY(dragbox);
Evt.addEventListener(document,"mousemove",dragMove,false);
Evt.addEventListener(document,"mouseup",dragRelease,false);
}

function dragMove(evt) {
evt = new Evt(evt);
setX(dragbox,evt.x - deltaX);
setY(dragbox,evt.y - deltaY);
evt.consume();
}

function dragRelease(evt) {
evt = new Evt(evt);
setOpacity(box,1);
Evt.removeEventListener(document,"mousemove",dragMove,false);
Evt.removeEventListener(document,"mouseup",dragRelease,false);
if (droppedOnDropBox(evt)) {
dragBoxDropped(evt);
}
}

function droppedOnDropBox(evt) {
var dropbox = document.getElementById("dropbox ");
var x = getX(dropbox);
var y = getY(dropbox);
var width = getWidth(dropbox);
var height = getHeight(dropbox);
return evt.x > x &&
evt.y > y &&
evt.x < x + width &&
evt.y < y + height;
}

function dragBoxDropped(evt) {
client.onreadystatechange = callback;
client.open("get","server.php",true);
client.send(null);
}

function callback() {
if (client.readyState == 4) {
if (client.status == 200) {
alert(client.responseText);
createClient();
} else {
alert("Sorry, there seems to be a problem retrieving the response:\n" +
client.statusText);
createClient();
}
}
}

</script>


</head>

<body onload="windowLoaded(event);">
<div id="wrap">
	<div id="main">
      <div id="header">
      	<span id="headertitle">
    		Berkeley Student Cooperative Workshift Manager
   		</span>
    	<span id="headerlist">
			<a class="headerlistitem" href="">Home</a>
        	<a class="headerlistitem" href="">Profile</a>
        	<a class="headerlistitem" href="">Logout</a>
   		</span>
      </div>
      <div id="logobar"><img src="assets/BSC-logo-small.jpg" width="204" height="191" id="logo" /><span id="logotext">Workshift Manager</span>      </div>
      <div id="navbar">
		<ul id="navlist">
			<li><a class="navlistitem" href="">My Shifts</a><li>
        	<li><a class="navlistitem" href="">My Fines</a></li>
        	<li><a class="navlistitem" href="">Shift Preferences</a></li>
   		</ul>
      </div>
      <div id="content">
	  
		<!-- 
		
			Put content for different pages in this div! 
			
		-->
		<div id="Layer1"><strong>My Shift  </strong></div>
        <div>
          <p><strong>Currently Assigned Shifts: </strong></p>
          <table width="784" height="177" border="1">
            <tr>
              <td width="105" class="STYLE3"><div align="center">Monday</div></td>
              <td width="105" class="STYLE4"><div align="center">Tuesday</div></td>
              <td width="105" class="STYLE5"><div align="center">Wednesday</div></td>
              <td width="105" class="STYLE6"><div align="center">Thursday</div></td>
              <td width="105" class="STYLE7"><div align="center">Friday</div></td>
              <td width="105" class="STYLE8"><div align="center">Satursday</div></td>
              <td width="105" class="STYLE9"><div align="center">Sunday</div></td>
            </tr>
            <tr>
              <td id="dragbox" height="110" class="STYLE11">Late night dishes</td>
              <td class="STYLE12">Morning pots</td>
              <td class="STYLE13">Diner shift</td>
              <td class="STYLE14">&nbsp;</td>
              <td class="STYLE15">&nbsp;</td>
              <td class="STYLE16">&nbsp;</td>
              <td class="STYLE17">&nbsp;</td>
            </tr>
          </table>
          <p>&nbsp;</p>
          <table width="200" border="1">
            <tr>
              <td id="dropbox"><strong>Shifts signing out</strong></td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
          </table> 
          <form id="form1" name="form1" method="post" action="">
            <input type="submit" name="button" id="button" value="Sign out!" />
          </form>
          <p>&nbsp;</p>
          <table width="200" border="1">
            <tr>
              <td><strong>Shifts signing off</strong></td>
            </tr>
            <tr>
              <td>&nbsp;</td>
            </tr>
          </table>
          <form id="form2" name="form2" method="post" action="">
            <input type="submit" name="button2" id="button2" value="Sign off!" />
          </form>
<p>&nbsp;</p>
          <p>&nbsp;</p>
          <form id="form3" name="form3" method="post" action="">
            <label>
              <input type="submit" name="Submit10" value="Show Available Shifts" />
            </label>
            <p><strong>Available Shifts:</strong></p>
            <table width="350" border="1">
              <tr>
                <td>&nbsp;</td>
              </tr>
            </table>
            <p>&nbsp;</p>
          </form>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp; </p>
        </div>
      </div>
      <div id="footer">
		<span id="footertext">(c) 2011 Team WSMA!!</span>
      </div>
	  <div id="spacer">
      </div>
	</div>
</div>
</body>
</html>
